{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\khush\\\\Desktop\\\\Qhacks\\\\frontend\\\\src\\\\pages\\\\VerifiedWalkTracker.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport \"../App.css\";\nimport { submitVerifiedWalk } from \"../api/apiService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MIN_SECONDS = 20; // demo: 20 seconds\nconst MIN_METERS = 500;\nconst MIN_KMH = 2.0;\nconst MAX_KMH = 8.0;\nconst toRad = value => value * Math.PI / 180;\nconst haversineMeters = (a, b) => {\n  const R = 6371000;\n  const dLat = toRad(b.lat - a.lat);\n  const dLon = toRad(b.lng - a.lng);\n  const lat1 = toRad(a.lat);\n  const lat2 = toRad(b.lat);\n  const h = Math.sin(dLat / 2) ** 2 + Math.cos(lat1) * Math.cos(lat2) * Math.sin(dLon / 2) ** 2;\n  return 2 * R * Math.asin(Math.sqrt(h));\n};\nexport default function VerifiedWalkTracker({\n  userId,\n  onPointsUpdated,\n  onDone\n}) {\n  _s();\n  const [tracking, setTracking] = useState(false);\n  const [status, setStatus] = useState(\"Ready to verify your walk.\");\n  const [elapsedMs, setElapsedMs] = useState(0);\n  const [distanceM, setDistanceM] = useState(0);\n  const [accuracyM, setAccuracyM] = useState(null);\n  const watchIdRef = useRef(null);\n  const startTimeRef = useRef(null);\n  const timerRef = useRef(null);\n  const lastPointRef = useRef(null);\n  const elapsedSeconds = Math.max(0, Math.floor(elapsedMs / 1000));\n  const avgSpeedKmh = elapsedSeconds > 0 ? distanceM / elapsedSeconds * 3.6 : 0;\n  const formattedElapsed = useMemo(() => {\n    const mins = Math.floor(elapsedSeconds / 60);\n    const secs = elapsedSeconds % 60;\n    return `${String(mins).padStart(2, \"0\")}:${String(secs).padStart(2, \"0\")}`;\n  }, [elapsedSeconds]);\n  useEffect(() => {\n    return () => {\n      stopTracking();\n    };\n  }, []);\n  const startTracking = () => {\n    if (!userId) {\n      setStatus(\"Please log in to start a verified walk.\");\n      return;\n    }\n    if (!navigator.geolocation) {\n      setStatus(\"Geolocation not supported in this browser.\");\n      return;\n    }\n    setDistanceM(0);\n    setElapsedMs(0);\n    setStatus(\"Requesting location permission...\");\n    lastPointRef.current = null;\n    startTimeRef.current = Date.now();\n    timerRef.current = setInterval(() => {\n      setElapsedMs(Date.now() - startTimeRef.current);\n    }, 1000);\n    watchIdRef.current = navigator.geolocation.watchPosition(pos => {\n      const nextPoint = {\n        lat: pos.coords.latitude,\n        lng: pos.coords.longitude,\n        timestamp: pos.timestamp,\n        accuracy: pos.coords.accuracy\n      };\n      setAccuracyM(pos.coords.accuracy);\n      if (lastPointRef.current) {\n        const segment = haversineMeters(lastPointRef.current, nextPoint);\n        // Ignore jumps when GPS accuracy is very poor or segment is unrealistically large.\n        if (pos.coords.accuracy <= 50 && segment < 1000) {\n          setDistanceM(current => current + segment);\n        }\n      }\n      lastPointRef.current = nextPoint;\n      setTracking(true);\n      setStatus(\"Tracking...\");\n    }, err => {\n      setStatus(err.code === 1 ? \"Location permission denied.\" : \"Unable to access GPS.\");\n      stopTracking();\n    }, {\n      enableHighAccuracy: true,\n      maximumAge: 0,\n      timeout: 20000\n    });\n  };\n  const stopTracking = () => {\n    if (watchIdRef.current !== null) {\n      navigator.geolocation.clearWatch(watchIdRef.current);\n      watchIdRef.current = null;\n    }\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n    setTracking(false);\n    lastPointRef.current = null;\n  };\n  const buildFailureReason = () => {\n    if (elapsedSeconds < MIN_SECONDS) {\n      return \"You need to walk for at least 20 seconds to earn Aura points.\";\n    }\n    if (distanceM < MIN_METERS) {\n      return \"Walk too short (distance).\";\n    }\n    if (avgSpeedKmh < MIN_KMH) {\n      return \"Average speed too low.\";\n    }\n    if (avgSpeedKmh > MAX_KMH) {\n      return \"Too fast, looks like a vehicle.\";\n    }\n    return null;\n  };\n  const handleSubmit = async () => {\n    stopTracking();\n    const reason = buildFailureReason();\n    if (reason) {\n      setStatus(reason);\n      return;\n    }\n    try {\n      const result = await submitVerifiedWalk({\n        userId,\n        distanceM: Math.round(distanceM),\n        durationS: elapsedSeconds,\n        avgSpeedKmh: Number(avgSpeedKmh.toFixed(2))\n      });\n      if (result.success) {\n        setStatus(`Walk verified, +${result.awarded_points} points.`);\n        if (onPointsUpdated) {\n          onPointsUpdated(result.new_total_points);\n        }\n        if (onDone) {\n          onDone();\n        }\n      } else {\n        setStatus(result.reason || \"Verification failed.\");\n      }\n    } catch (error) {\n      setStatus(\"Submission failed. Check your FastAPI server.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"actions-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"actions-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"eyebrow\",\n          children: \"Verified Walk\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Walk Instead of the Bus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"subtext\",\n          children: \"Keep a steady pace for at least 20 seconds to earn a bonus.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"verified-metrics\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"metric-label\",\n          children: \"Elapsed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"metric-value\",\n          children: formattedElapsed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"metric-label\",\n          children: \"Distance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"metric-value\",\n          children: [Math.round(distanceM), \" m\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"metric-label\",\n          children: \"Avg speed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"metric-value\",\n          children: [avgSpeedKmh.toFixed(2), \" km/h\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"metric-label\",\n          children: \"GPS accuracy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"metric-value\",\n          children: accuracyM ? `${Math.round(accuracyM)} m` : \"--\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"verified-actions\",\n      children: !tracking ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"action-btn\",\n        onClick: startTracking,\n        children: \"Start verified walk\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"action-btn\",\n        onClick: handleSubmit,\n        children: \"End walk & submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"status-pill status-neutral\",\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"verified-hint\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Requirements: 20+ seconds, 500+ meters, average speed 2\\u20138 km/h.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this);\n}\n_s(VerifiedWalkTracker, \"XAQlLqPSX9dt0q0ofqiaAldy+5w=\");\n_c = VerifiedWalkTracker;\nvar _c;\n$RefreshReg$(_c, \"VerifiedWalkTracker\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","submitVerifiedWalk","jsxDEV","_jsxDEV","MIN_SECONDS","MIN_METERS","MIN_KMH","MAX_KMH","toRad","value","Math","PI","haversineMeters","a","b","R","dLat","lat","dLon","lng","lat1","lat2","h","sin","cos","asin","sqrt","VerifiedWalkTracker","userId","onPointsUpdated","onDone","_s","tracking","setTracking","status","setStatus","elapsedMs","setElapsedMs","distanceM","setDistanceM","accuracyM","setAccuracyM","watchIdRef","startTimeRef","timerRef","lastPointRef","elapsedSeconds","max","floor","avgSpeedKmh","formattedElapsed","mins","secs","String","padStart","stopTracking","startTracking","navigator","geolocation","current","Date","now","setInterval","watchPosition","pos","nextPoint","coords","latitude","longitude","timestamp","accuracy","segment","err","code","enableHighAccuracy","maximumAge","timeout","clearWatch","clearInterval","buildFailureReason","handleSubmit","reason","result","round","durationS","Number","toFixed","success","awarded_points","new_total_points","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/khush/Desktop/Qhacks/frontend/src/pages/VerifiedWalkTracker.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport \"../App.css\";\nimport { submitVerifiedWalk } from \"../api/apiService\";\n\nconst MIN_SECONDS = 20; // demo: 20 seconds\nconst MIN_METERS = 500;\nconst MIN_KMH = 2.0;\nconst MAX_KMH = 8.0;\n\nconst toRad = (value) => (value * Math.PI) / 180;\n\nconst haversineMeters = (a, b) => {\n  const R = 6371000;\n  const dLat = toRad(b.lat - a.lat);\n  const dLon = toRad(b.lng - a.lng);\n  const lat1 = toRad(a.lat);\n  const lat2 = toRad(b.lat);\n\n  const h =\n    Math.sin(dLat / 2) ** 2 +\n    Math.cos(lat1) * Math.cos(lat2) * Math.sin(dLon / 2) ** 2;\n  return 2 * R * Math.asin(Math.sqrt(h));\n};\n\nexport default function VerifiedWalkTracker({\n  userId,\n  onPointsUpdated,\n  onDone,\n}) {\n  const [tracking, setTracking] = useState(false);\n  const [status, setStatus] = useState(\"Ready to verify your walk.\");\n  const [elapsedMs, setElapsedMs] = useState(0);\n  const [distanceM, setDistanceM] = useState(0);\n  const [accuracyM, setAccuracyM] = useState(null);\n  const watchIdRef = useRef(null);\n  const startTimeRef = useRef(null);\n  const timerRef = useRef(null);\n  const lastPointRef = useRef(null);\n\n  const elapsedSeconds = Math.max(0, Math.floor(elapsedMs / 1000));\n  const avgSpeedKmh =\n    elapsedSeconds > 0 ? (distanceM / elapsedSeconds) * 3.6 : 0;\n\n  const formattedElapsed = useMemo(() => {\n    const mins = Math.floor(elapsedSeconds / 60);\n    const secs = elapsedSeconds % 60;\n    return `${String(mins).padStart(2, \"0\")}:${String(secs).padStart(2, \"0\")}`;\n  }, [elapsedSeconds]);\n\n  useEffect(() => {\n    return () => {\n      stopTracking();\n    };\n  }, []);\n\n  const startTracking = () => {\n    if (!userId) {\n      setStatus(\"Please log in to start a verified walk.\");\n      return;\n    }\n    if (!navigator.geolocation) {\n      setStatus(\"Geolocation not supported in this browser.\");\n      return;\n    }\n\n    setDistanceM(0);\n    setElapsedMs(0);\n    setStatus(\"Requesting location permission...\");\n    lastPointRef.current = null;\n\n    startTimeRef.current = Date.now();\n    timerRef.current = setInterval(() => {\n      setElapsedMs(Date.now() - startTimeRef.current);\n    }, 1000);\n\n    watchIdRef.current = navigator.geolocation.watchPosition(\n      (pos) => {\n        const nextPoint = {\n          lat: pos.coords.latitude,\n          lng: pos.coords.longitude,\n          timestamp: pos.timestamp,\n          accuracy: pos.coords.accuracy,\n        };\n        setAccuracyM(pos.coords.accuracy);\n\n        if (lastPointRef.current) {\n          const segment = haversineMeters(lastPointRef.current, nextPoint);\n          // Ignore jumps when GPS accuracy is very poor or segment is unrealistically large.\n          if (pos.coords.accuracy <= 50 && segment < 1000) {\n            setDistanceM((current) => current + segment);\n          }\n        }\n        lastPointRef.current = nextPoint;\n\n        setTracking(true);\n        setStatus(\"Tracking...\");\n      },\n      (err) => {\n        setStatus(\n          err.code === 1\n            ? \"Location permission denied.\"\n            : \"Unable to access GPS.\"\n        );\n        stopTracking();\n      },\n      {\n        enableHighAccuracy: true,\n        maximumAge: 0,\n        timeout: 20000,\n      }\n    );\n  };\n\n  const stopTracking = () => {\n    if (watchIdRef.current !== null) {\n      navigator.geolocation.clearWatch(watchIdRef.current);\n      watchIdRef.current = null;\n    }\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n    setTracking(false);\n    lastPointRef.current = null;\n  };\n\n  const buildFailureReason = () => {\n    if (elapsedSeconds < MIN_SECONDS) {\n      return \"You need to walk for at least 20 seconds to earn Aura points.\";\n    }\n    if (distanceM < MIN_METERS) {\n      return \"Walk too short (distance).\";\n    }\n    if (avgSpeedKmh < MIN_KMH) {\n      return \"Average speed too low.\";\n    }\n    if (avgSpeedKmh > MAX_KMH) {\n      return \"Too fast, looks like a vehicle.\";\n    }\n    return null;\n  };\n\n  const handleSubmit = async () => {\n    stopTracking();\n\n    const reason = buildFailureReason();\n    if (reason) {\n      setStatus(reason);\n      return;\n    }\n\n    try {\n      const result = await submitVerifiedWalk({\n        userId,\n        distanceM: Math.round(distanceM),\n        durationS: elapsedSeconds,\n        avgSpeedKmh: Number(avgSpeedKmh.toFixed(2)),\n      });\n\n      if (result.success) {\n        setStatus(`Walk verified, +${result.awarded_points} points.`);\n        \n        if (onPointsUpdated) {\n          onPointsUpdated(result.new_total_points);\n        }\n        if (onDone) {\n          onDone();\n        }\n      } else {\n        setStatus(result.reason || \"Verification failed.\");\n      }\n    } catch (error) {\n      setStatus(\"Submission failed. Check your FastAPI server.\");\n    }\n  };\n\n  return (\n    <div className=\"actions-page\">\n      <header className=\"actions-header\">\n        <div>\n          <p className=\"eyebrow\">Verified Walk</p>\n          <h1>Walk Instead of the Bus</h1>\n          <p className=\"subtext\">\n            Keep a steady pace for at least 20 seconds to earn a bonus.\n          </p>\n        </div>\n      </header>\n\n      <div className=\"verified-metrics\">\n        <div>\n          <p className=\"metric-label\">Elapsed</p>\n          <p className=\"metric-value\">{formattedElapsed}</p>\n        </div>\n        <div>\n          <p className=\"metric-label\">Distance</p>\n          <p className=\"metric-value\">{Math.round(distanceM)} m</p>\n        </div>\n        <div>\n          <p className=\"metric-label\">Avg speed</p>\n          <p className=\"metric-value\">{avgSpeedKmh.toFixed(2)} km/h</p>\n        </div>\n        <div>\n          <p className=\"metric-label\">GPS accuracy</p>\n          <p className=\"metric-value\">\n            {accuracyM ? `${Math.round(accuracyM)} m` : \"--\"}\n          </p>\n        </div>\n      </div>\n\n      <div className=\"verified-actions\">\n        {!tracking ? (\n          <button className=\"action-btn\" onClick={startTracking}>\n            Start verified walk\n          </button>\n        ) : (\n          <button className=\"action-btn\" onClick={handleSubmit}>\n            End walk & submit\n          </button>\n        )}\n      </div>\n\n      <div className=\"status-pill status-neutral\">{status}</div>\n\n      <div className=\"verified-hint\">\n        <p>\n          Requirements: 20+ seconds, 500+ meters, average speed 2â€“8 km/h.\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}